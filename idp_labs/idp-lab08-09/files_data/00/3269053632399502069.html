<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://elchapuzasinformatico.com/2019/11/el-matlab-mejora-en-hasta-un-300-en-cpus-amd-ryzen-al-hacerlas-pasar-como-una-cpu-intel/"/>
    <meta property="og:site_name" content="El Chapuzas Informático"/>
    <meta property="article:published_time" content="2019-11-18T00:00:00+00:00"/>
    <meta property="og:title" content="El MATLAB mejora en hasta un 300% en CPUs AMD Ryzen al hacerlas pasar como una CPU Intel"/>
    <meta property="og:description" content="MATLAB, el un popular 'laboratorio de matrices' empleado en universidades y centros de investigación y desarrollo, pero tiene grandes inconvenientes, y es que algunas de sus operaciones se pueden realizar mediante la biblioteca de rutinas matemáticas Intel MKL (Math Kernel Library), que está mal optimizada para los procesadores AMD Ryzen, lo que conlleva una enorme pérdida de rendimiento, pero esto ahora tiene arreglo."/>
  </head>
  <body>
    <article>
      <h1>El MATLAB mejora en hasta un 300% en CPUs AMD Ryzen al hacerlas pasar como una CPU Intel</h1>
      <address><time datetime="2019-11-18T00:00:00+00:00">18 Nov 2019</time> by <a rel="author" href="https://elchapuzasinformatico.com/author/darktiger/" target="_blank">Borja Rodríguez</a></address>
      <p><b>MATLAB</b>, el un popular 'laboratorio de matrices' empleado en universidades y centros de investigación y desarrollo, pero tiene grandes inconvenientes, y es que algunas de sus operaciones se pueden realizar mediante la biblioteca de rutinas matemáticas<b> Intel MKL</b> (Math Kernel Library), que está mal optimizada para los procesadores <b>AMD Ryzen</b>, lo que conlleva <b>una enorme pérdida de rendimiento,</b> pero esto ahora tiene arreglo.</p>
      <figure>
        <img src="https://elchapuzasinformatico.com/wp-content/uploads/2019/11/MATLAB-con-AVX2-en-AMD-Ryzen-1-740x416.jpg"/>
      </figure>
      <p>El usuario de reddit, Nedflanders1976, ideó una forma de mejorar el rendimiento de los procesadores AMD Ryzen y Ryzen Threadripper <b>entre un 20 y un 300 por ciento</b>, y esta solución pasa por <b>forzar a MATLAB a utilizar conjuntos de instrucciones avanzadas como AVX2</b>.</p>
      <p>Por defecto, el Intel MKL <b>consulta el código ID de proveedor del procesador que está siendo usado</b>, y si ve que la CPU está catalogada como "GenuineIntel", vuelve a a la instrucción <b>SSE</b>, lo que supone una desventaja de rendimiento significativa para los procesadores Ryzen "AuthenticAMD", que tienen una implementación completa de IA SSE4, AVX y AVX2, lo que le otorgaría notorias mejoras de rendimiento si lo empleara.</p>
      <figure>
        <img src="https://elchapuzasinformatico.com/wp-content/uploads/2019/11/MATLAB-con-AVX2-en-AMD-Ryzen-2-533x600.jpg"/>
      </figure>
      <p>La solución, destinada únicamente a procesadores AMD Ryzen, obliga al Intel MKL <b>a utilizar AVX2 independientemente del resultado de la consulta del ID del fabricante de la CPU</b>. El ajuste es tan simple como poderoso, ya que solo se requiere<a href="https://www.reddit.com/r/matlab/comments/dxn38s/howto_force_matlab_to_use_a_fast_codepath_on_amd/"><b> un archivo .bat de Windows</b></a> de 4 líneas con un conjunto de argumentos <b>que inicia el Intel MKL en modo AVX2</b>.</p>
      <p>También puede hacer que la modificación sea "permanente" creando una variable de entorno del sistema. La variable de entorno se aplicará a todas las instancias de MATLAB, y no sólo a las generadas por el archivo .bat. Este usuario también publicó un script de referencia que destaca el impacto de rendimiento que implica usar el AVX2, donde <b>su AMD Ryzen 2600X mejoró en hasta un 258 por ciento</b>.</p>
      <p>vía: <a href="https://www.techpowerup.com/261241/matlab-mkl-codepath-tweak-boosts-amd-ryzen-mkl-performance-significantly">TechPowerUp</a></p>
    </article>
  </body>
</html>